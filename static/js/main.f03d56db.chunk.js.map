{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ErrorQuery/QueryError.module.css","components/API/ImageApi.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/ErrorQuery/ErrorQuery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageApi","fetchImage","query","page","fetch","then","response","ok","json","Searchbar","state","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","images","onClick","map","image","ImageGalleryItemImage","src","webformatURL","largeImageURL","alt","id","ImageGallery","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBbackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","loader","Loader","color","height","width","ErrorQuery","message","App","status","showModal","isLoading","options","total","prevState","hits","scrollTo","top","body","scrollHeight","behavior","catch","finally","toggleModal","openModal","nodeName","dataset","handleFormSubmit","handleLoadMore","prevProps","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f03d56db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorQuery\":\"QueryError_ErrorQuery__9L80l\"};","const API_KEY = '22412207-a0ef56cb918658d27ea3da2a0';\nconst BASE_URL = `https://pixabay.com/api`;\n\nfunction fetchImage({ query = '', page = 1 }) {\n  return fetch(\n    `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nconst ImageApi = {\n  fetchImage,\n};\n\nexport default ImageApi;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = { query: \"\" };\n\n  handleInputChange = (event) => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.query.trim() === \"\") {\n      toast.error(\"Please, enter a query\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleInputChange}\n          />\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ images, onClick }) {\n  return (\n    <>\n      {images.map((image) => (\n        <li key={image.id} className={s.ImageGalleryItem} onClick={onClick}>\n          <img\n            className={s.ImageGalleryItemImage}\n            src={image.webformatURL}\n            data-image={image.largeImageURL}\n            alt=\"\"\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onClick={onClick} />\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBbackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBbackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\n\nconst loader = () => {\n  return (\n    <div className={s.Loader}>\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\n      <p>Loading...</p>\n    </div>\n  );\n};\n\nexport default loader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from './QueryError.module.css';\n\nconst ErrorQuery = ({ message }) => {\n  return <p className={s.ErrorQuery}>{message}</p>;\n};\n\nErrorQuery.propTypes = {\n  queryError: PropTypes.object,\n};\n\nexport default ErrorQuery;\n","import React, { Component } from \"react\";\nimport ImageApi from \"./components/API/ImageApi\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport ErrorQuery from \"./components/ErrorQuery/ErrorQuery\";\nimport { ToastContainer } from \"react-toastify\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    status: \"idle\",\n    page: 1,\n    query: \"\",\n    showModal: \"\",\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({\n        status: \"pending\",\n        page: 1,\n        images: [],\n      });\n      this.fetchImage();\n    }\n  }\n\n  fetchImage = () => {\n    const { query, page } = this.state;\n\n    const options = {\n      page,\n      query,\n    };\n    this.setState({ isLoading: true });\n    ImageApi.fetchImage(options)\n      .then(images => {\n        if (images.total === 0) {\n          this.setState({\n            error: `Nothing was found for your query ${query}`,\n            status: 'rejected',\n          });\n        }\n    else {\n      this.setState(prevState => ({\n        images: images.hits,\n        status: 'resolved',\n        page: prevState.page + 1,\n      }));\n    }\n  })\n      .then(() => {\n        window.scrollTo({\n          top: document.body.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState({\n      showModal: \"\",\n    });\n  };\n\n  openModal = (e) => {\n    e.preventDefault();\n    if (e.target.nodeName === \"IMG\") {\n      this.setState({ showModal: e.target.dataset.image });\n    }\n  };\n\n  handleFormSubmit = (query) => {\n    this.setState({ query, page: 1, images: [] });\n  };\n\n  handleLoadMore = () => {\n    const { query, page } = this.state;\n    this.fetchImage(query, page);\n  };\n\n  render() {\n    const { images, error, isLoading, showModal, status } = this.state;\n\n    if (status === \"idle\") {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ToastContainer autoClose={3000} />\n        </>\n      );\n    }\n\n    if (status === \"pending\") {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          {isLoading && <Loader />}\n        </>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ErrorQuery message={error} />\n          <ToastContainer autoClose={3000} />\n        </>\n      );\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          <ImageGallery images={images} onClick={this.openModal} />\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={this.state.showModal} alt=\"modal\" />\n            </Modal>\n          )}\n          {isLoading && <Loader />}\n          <Button onClick={this.handleLoadMore} />\n          <ToastContainer autoClose={3000} />\n        </>\n      );\n    }\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}